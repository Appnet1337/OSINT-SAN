##!/usr/bin/python
#-*- coding: utf-8 -*-
#Developer by Bafomet and l3e86

import sys
import subprocess

WHSL = '\033[1;32m'
ENDL = '\033[0m'
REDL = '\033[0;31m'
GNSL = '\033[1;34m'

def main():
    while True:
        try:
            print("")
            print(REDL + " [ + ] " + WHSL + "  Выберите опцию")
            print("")
            #эквевалент -p
            print(REDL + " [ 1 ] " + WHSL + "  Парсинг железа")
            #эквевалент -с
            print(REDL + " [ 2 ] " + WHSL + "  Крашнуть ngrok противника")
            #эквевалент -l
            print(REDL + " [ 3 ] " + WHSL + "  Отследить геолокацию")
            
            print(REDL + " [ 4 ] " + WHSL + "  Выйти с перезапуском")
            
            #запрос у пользователя на ввод операции     
            print("")      
            user_input = input(REDL + " └──>"+GNSL+"   ["+WHSL + " main_menu " + GNSL + "]"+ENDL + ": ")
            
            try:
                #запрос урла, проверка на пустую строку
                #и если она пустая то возвращаемся в главное меню
                #можно попробовать к вводу урла, но я и так проебал пол дня, весь мозг выстраивая эту ахуенную конструкцию, но если попросишь перепишу
                print("")
                url = input(REDL + " [ + ] " + WHSL + "  Укажите url :")
                print("")
                if url == '' or url == ' ':
                    print('\n[-] Неверное значение')
                    
                #если введенна ссылка (так-же думаю стоит сделать проверку на валидность
                #ссылки, но это уже в твоем коде, наверно, башка дымит пыш-пыш)
                #то в зависимости от того какая операция была выполнена, идет отработка
                #модуля deanon_mod.py в который передаются значения урла и тайминг(или
                #что это),в случае если выбрана третья опция
                else:
                    if user_input == '1':
                        subprocess.check_call(['python3', 'deanon_mod.py', '-p', url])
                        
                    elif user_input == '2':
                        subprocess.call(['python3', 'deanon_mod.py', '-c', url])
                    
                    elif user_input == '3':
                        time = input('Укажите задержку в минутах по умолчанию 180минут: ')
                        
                    elif user_input == '4':
                        os.system("cd ..;python3 osintsan.py")
                        
                        #условие где переменная time(тайминг) 
                        #инициализируется дефолтным значением
                        #при условии пустой строки
                        if time == '' or time == ' ':
                            time = 10800 
                        else:
                            time = int(time) * 60
                        
                        subprocess.check_call(['python3', 'deanon_mod.py', '-l', str(time), url])
            
            #обработчик ошибок тут все ясно            
            except KeyboardInterrupt:
                print("")
                choice_exit = input(REDL + " [ + ] " + WHSL + " Что-бы вернутся в меню нажмите 0, либо ctrl + c")
                if choice_exit == '0':
                    pass
                else:
                    sys.exit()  
        
        #еще один, да так нужно!!!! я художник я так вижу!!!                
        except KeyboardInterrupt:
            print('\n[!] пока\n')
            sys.exit()
                          
main()
